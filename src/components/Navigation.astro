---
const currentPath = Astro.url.pathname;

const navItems = [
  { href: '/', label: 'Home' },
  { href: '/minerals', label: 'Minerals' },
  { href: '/guided-tour', label: 'Guided Tour' },
  { href: '/about', label: 'About' },
  { href: '/help', label: 'Help' },
];

const isActive = (href: string) => {
  if (href === '/') {
    return currentPath === href;
  }
  return currentPath.startsWith(href);
};
---

<header
  class="navbar bg-base-100 shadow-lg sticky top-0 z-50 backdrop-blur-md bg-opacity-95 px-4 md:px-8 lg:px-12"
>
  <div class="navbar-start">
    <a href="/" class="btn btn-ghost text-xl font-heading text-primary"> Mineral Map </a>
  </div>

  <div class="navbar-center"></div>

  <div class="navbar-end">
    <!-- Desktop Navigation -->
    <ul class="menu menu-horizontal px-1 gap-2 hidden lg:flex">
      {
        navItems.map((item) => (
          <li>
            <a href={item.href} class={`nav-link ${isActive(item.href) ? 'nav-link-active' : ''}`}>
              {item.label}
            </a>
          </li>
        ))
      }
    </ul>

    <!-- Mobile Hamburger Menu -->
    <div class="dropdown dropdown-end lg:hidden">
      <label tabindex="0" class="btn btn-ghost btn-circle">
        <i class="fas fa-bars text-lg"></i>
      </label>
      <ul
        tabindex="0"
        class="menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-52"
      >
        {
          navItems.map((item) => (
            <li>
              <a href={item.href} class={isActive(item.href) ? 'text-primary font-semibold' : ''}>
                {item.label}
              </a>
            </li>
          ))
        }
      </ul>
    </div>
  </div>
</header>
